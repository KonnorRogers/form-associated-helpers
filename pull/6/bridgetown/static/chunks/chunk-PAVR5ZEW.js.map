{
  "version": 3,
  "sources": ["../../../../../exports/mixins/lit-form-associated-mixin.js"],
  "sourcesContent": ["import { VanillaFormAssociatedMixin } from \"./vanilla-form-associated-mixin.js\"\n\n/**\n * Create a new object every time to avoid mutation.\n */\nconst formProperties = () => ({\n  role: {reflect: true},\n  name: {reflect: true},\n  type: {reflect: true},\n  /**\n   * Don't reflect \"disabled\". It breaks the `formDisabledCallback` on formAssociated elements when used with `<fieldset disabled>`.\n   *   https://github.com/whatwg/html/issues/8365\n   */\n  disabled: {type: Boolean},\n  required: {reflect: true, type: Boolean},\n  hasInteracted: {attribute: false, type: Boolean, state: true},\n  formControl: {attribute: false, state: true},\n  defaultValue: {attribute: \"value\", reflect: true},\n  valueHasChanged: {type: Boolean, attribute: false, state: true},\n  value: {attribute: false, state: true},\n})\n\nObject.defineProperty(LitFormAssociatedMixin, \"formProperties\", {\n  get () {\n    return formProperties()\n  }\n})\n\n/**\n * An extension of the VanillaFormAssociatedMixin intended for LitElement by providing formProperties and willUpdate() callbacks with the appropriate properties.\n *\n * @see https://webkit.org/blog/13711/elementinternals-and-form-associated-custom-elements/\n * @template {{\n    new (...args: any[]): HTMLElement\n  }} T\n * @param {T} superclass\n */\nexport function LitFormAssociatedMixin(superclass) {\n  return class extends VanillaFormAssociatedMixin(superclass) {\n    /**\n      * @param {...any} args\n      */\n    constructor (...args) {\n      super(...args)\n\n      const ctor = /** @type {{properties?: { disabled?: { reflect?: boolean }}}} */ (/** @type {unknown} */ (this.constructor))\n      if (ctor.properties?.disabled?.reflect === true) {\n        console.warn(`The following element has their \"disabled\" property set to reflect.`)\n        console.warn(this)\n        console.warn(\"For further reading: https://github.com/whatwg/html/issues/8365\")\n      }\n    }\n\n\n    /**\n     * @protected\n     * @type {import(\"lit\").LitElement[\"willUpdate\"]}\n     */\n    willUpdate (changedProperties) {\n      // @ts-expect-error\n      if (typeof super.willUpdate !== \"function\") {\n        return\n      }\n\n      if (changedProperties.has(\"formControl\")) {\n        changedProperties.get(\"formControl\")?.removeEventListener(\"focusout\", this.__boundHandleInteraction)\n        changedProperties.get(\"formControl\")?.removeEventListener(\"blur\", this.__boundHandleInteraction)\n        changedProperties.get(\"formControl\")?.removeEventListener(\"click\", this.__boundHandleInteraction)\n\n        /**\n         * @type {typeof this & { formControl?: HTMLElement | null | undefined }}\n         */\n        const self = this\n        self.formControl?.addEventListener(\"focusout\", this.__boundHandleInteraction)\n        self.formControl?.addEventListener(\"blur\", this.__boundHandleInteraction)\n        self.formControl?.addEventListener(\"click\", this.__boundHandleInteraction)\n      }\n\n      if (\n        changedProperties.has(\"value\")\n      ) {\n        this.setFormValue(/** @type {any} */ (this.toFormValue()), /** @type {any} */ (this).value)\n      }\n\n      // @ts-expect-error\n      super.willUpdate(changedProperties)\n    }\n  }\n}\n\n"],
  "mappings": "+FAKA,IAAMA,EAAiB,KAAO,CAC5B,KAAM,CAAC,QAAS,EAAI,EACpB,KAAM,CAAC,QAAS,EAAI,EACpB,KAAM,CAAC,QAAS,EAAI,EAKpB,SAAU,CAAC,KAAM,OAAO,EACxB,SAAU,CAAC,QAAS,GAAM,KAAM,OAAO,EACvC,cAAe,CAAC,UAAW,GAAO,KAAM,QAAS,MAAO,EAAI,EAC5D,YAAa,CAAC,UAAW,GAAO,MAAO,EAAI,EAC3C,aAAc,CAAC,UAAW,QAAS,QAAS,EAAI,EAChD,gBAAiB,CAAC,KAAM,QAAS,UAAW,GAAO,MAAO,EAAI,EAC9D,MAAO,CAAC,UAAW,GAAO,MAAO,EAAI,CACvC,GAEA,OAAO,eAAeC,EAAwB,iBAAkB,CAC9D,KAAO,CACL,OAAOD,EAAe,CACxB,CACF,CAAC,EAWM,SAASC,EAAuBC,EAAY,CACjD,OAAO,cAAcC,EAA2BD,CAAU,CAAE,CAI1D,eAAgBE,EAAM,CACpB,MAAM,GAAGA,CAAI,EAE2F,KAAK,YACpG,YAAY,UAAU,UAAY,KACzC,QAAQ,KAAK,qEAAqE,EAClF,QAAQ,KAAK,IAAI,EACjB,QAAQ,KAAK,iEAAiE,EAElF,CAOA,WAAYC,EAAmB,CAE7B,GAAI,OAAO,MAAM,YAAe,WAIhC,IAAIA,EAAkB,IAAI,aAAa,EAAG,CACxCA,EAAkB,IAAI,aAAa,GAAG,oBAAoB,WAAY,KAAK,wBAAwB,EACnGA,EAAkB,IAAI,aAAa,GAAG,oBAAoB,OAAQ,KAAK,wBAAwB,EAC/FA,EAAkB,IAAI,aAAa,GAAG,oBAAoB,QAAS,KAAK,wBAAwB,EAKhG,IAAMC,EAAO,KACbA,EAAK,aAAa,iBAAiB,WAAY,KAAK,wBAAwB,EAC5EA,EAAK,aAAa,iBAAiB,OAAQ,KAAK,wBAAwB,EACxEA,EAAK,aAAa,iBAAiB,QAAS,KAAK,wBAAwB,CAC3E,CAGED,EAAkB,IAAI,OAAO,GAE7B,KAAK,aAAiC,KAAK,YAAY,EAAwB,KAAM,KAAK,EAI5F,MAAM,WAAWA,CAAiB,EACpC,CACF,CACF",
  "names": ["formProperties", "LitFormAssociatedMixin", "superclass", "VanillaFormAssociatedMixin", "args", "changedProperties", "self"]
}
