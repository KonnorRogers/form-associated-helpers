{
  "version": 3,
  "sources": ["../../../../exports/validators/step-mismatch-validator.js"],
  "sourcesContent": ["/**\n * @param {number} min\n * @param {number} value\n * @param {number} step\n * @return {boolean}\n */\nfunction isValidStep (min, value, step) {\n  return (value - min) % step === 0\n}\n\n/**\n * @param {number} min\n * @param {number} value\n * @param {number} step\n * @returns {{ high: number, low: number }}\n */\nfunction findClosestSteps (min, value, step) {\n  const high = value + ((value - min) % step)\n  const low = high - step\n\n  return { high, low }\n}\n\n/**\n * @type {import(\"../types.js\").Validator<HTMLElement & { min?: number, step?: number }>}\n */\nexport const StepMismatchValidator = {\n  observedAttributes: [\"min\", \"step\"],\n  checkValidity (element) {\n    const min = Number(element.min ?? element.getAttribute(\"min\"))\n    const value = Number(element.value ?? element.getAttribute(\"value\"))\n    const step = Number(element.step ?? element.getAttribute(\"step\"))\n\n    /**\n     * @type {ReturnType<import(\"../types.js\").Validator[\"checkValidity\"]>}\n     */\n    const validity = {\n      message: \"\",\n      isValid: true,\n      invalidKeys: []\n    }\n\n    if (isNaN(min) || isNaN(value) || isNaN(step)) {\n      return validity\n    }\n\n    const isValid = isValidStep(min, value, step)\n\n    if (isValid) return validity\n\n    const {low, high} = findClosestSteps(min, value, step)\n\n    validity.message = `Please select a valid value. The two nearest valid values are ${low} and ${high}`\n    validity.isValid = false\n    validity.invalidKeys.push(\"stepMismatch\")\n\n    return validity\n  }\n}\n"],
  "mappings": "mFAMA,SAASA,EAAaC,EAAKC,EAAOC,EAAM,CACtC,OAAQD,EAAQD,GAAOE,IAAS,CAClC,CAQA,SAASC,EAAkBH,EAAKC,EAAOC,EAAM,CAC3C,IAAME,EAAOH,GAAUA,EAAQD,GAAOE,EAChCG,EAAMD,EAAOF,EAEnB,MAAO,CAAE,KAAAE,EAAM,IAAAC,CAAI,CACrB,CAKO,IAAMC,EAAwB,CACnC,mBAAoB,CAAC,MAAO,MAAM,EAClC,cAAeC,EAAS,CACtB,IAAMP,EAAM,OAAOO,EAAQ,KAAOA,EAAQ,aAAa,KAAK,CAAC,EACvDN,EAAQ,OAAOM,EAAQ,OAASA,EAAQ,aAAa,OAAO,CAAC,EAC7DL,EAAO,OAAOK,EAAQ,MAAQA,EAAQ,aAAa,MAAM,CAAC,EAK1DC,EAAW,CACf,QAAS,GACT,QAAS,GACT,YAAa,CAAC,CAChB,EAQA,GANI,MAAMR,CAAG,GAAK,MAAMC,CAAK,GAAK,MAAMC,CAAI,GAI5BH,EAAYC,EAAKC,EAAOC,CAAI,EAE/B,OAAOM,EAEpB,GAAM,CAAC,IAAAH,EAAK,KAAAD,CAAI,EAAID,EAAiBH,EAAKC,EAAOC,CAAI,EAErD,OAAAM,EAAS,QAAU,iEAAiEH,CAAG,QAAQD,CAAI,GACnGI,EAAS,QAAU,GACnBA,EAAS,YAAY,KAAK,cAAc,EAEjCA,CACT,CACF",
  "names": ["isValidStep", "min", "value", "step", "findClosestSteps", "high", "low", "StepMismatchValidator", "element", "validity"]
}
