import{a as u}from"/form-associated-helpers/bridgetown/static/chunks/chunk-ZL6FUDOL.js";import{a as h}from"/form-associated-helpers/bridgetown/static/chunks/chunk-PPFFNU7C.js";import{d}from"/form-associated-helpers/bridgetown/static/chunks/chunk-ENMDFKSV.js";function r(t){if(t.disabled||t.getAttribute("disabled")){t.setValidity({});return}let l=t.allValidators;if(!l){t.setValidity({});return}let i={},a=t.formControl||void 0,e="";for(let s of l){let{isValid:n,message:f,invalidKeys:o}=s.checkValidity(t);n||(e||(e=f),o?.length>=0&&o.forEach(c=>i[c]=!0))}t.setValidity(i,e,a)}function C(t){return class extends h(t){constructor(...i){super(...i);d(this,"handleInvalid",i=>{i.target===this&&(this.disabled===!0||this.hasAttribute("disabled")||(this.valueHasChanged=!0,this.hasInteracted=!0,v(this)))});d(this,"handleInteraction",i=>{this.disabled===!0||this.hasAttribute("disabled")||(!this.matches(":focus-within")&&this.valueHasChanged&&(this.hasInteracted=!0),r(this))});this.role=null,this.value="",this.previousValue=this.value,this.defaultValue="",this.name="",this.type=this.localName||"",this.disabled=!1,this.required=!1,this.hasInteracted=this.hasInteracted??!1,this.valueHasChanged=this.valueHasChanged??!1,this.validators=[],this.addEventListener("focusout",this.handleInteraction),this.addEventListener("blur",this.handleInteraction),this.addEventListener("invalid",this.handleInvalid)}static get observedAttributes(){let i=new Set(super.observedAttributes||[]);for(let a of this.validators)if(a.observedAttributes)for(let e of a.observedAttributes)i.add(e);return[...i]}static get validators(){return[u]}get allValidators(){let i=this.constructor.validators||[],a=this.validators||[];return[...i,...a]}get willShowValidationMessage(){return this.disabled!==!0&&this.hasInteracted===!0}get labels(){return this.internals.labels}get validity(){return this.internals.validity}get validationMessage(){return this.internals.validationMessage}get willValidate(){return this.internals.willValidate}setCustomValidity(i){if(i){this.setValidity({customError:!0},i);return}this.setValidity({})}attributeChangedCallback(i,a,e){typeof super.attributeChangedCallback=="function"&&super.attributeChangedCallback(i,a,e),e!==a&&(i==="role"&&(this.internals.role=e||null),i==="value"&&(!this.hasInteracted&&!this.valueHasChanged&&(this.value=this.defaultValue),this.setFormValue(this.value,this.value)))}formResetCallback(){"formControl"in this&&this.formControl&&(this.formControl.value=this.defaultValue),this.value=this.defaultValue,this.hasInteracted=!1,this.valueHasChanged=!1,r(this),this.setFormValue(this.defaultValue,this.defaultValue)}formDisabledCallback(i){this.disabled=i,r(this)}formStateRestoreCallback(i,a){this.value=i,this.formControl&&(this.formControl.value=i)}setValidity(...i){let a=i[0],e=i[1],s=i[2];s||(s=this.validationTarget),this.internals.setValidity(a,e,s),v(this)}reportValidity(){return this.internals.reportValidity()}checkValidity(){return this.internals.checkValidity()}get validationTarget(){return this.formControl||void 0}setFormValue(...i){this.value!==this.defaultValue&&(this.valueHasChanged=!0),this.internals.setFormValue(...i),r(this)}get form(){return this.internals.form}}}function v(t){if(t.disabled||t.hasAttribute("disabled")){t.removeAttribute("data-invalid"),t.removeAttribute("data-user-invalid"),t.removeAttribute("data-valid"),t.removeAttribute("data-user-valid");return}t.validity.valid?(t.removeAttribute("data-invalid"),t.removeAttribute("data-user-invalid"),t.setAttribute("data-valid",""),t.toggleAttribute("data-user-valid",t.hasInteracted&&t.valueHasChanged)):(t.removeAttribute("data-valid"),t.removeAttribute("data-user-valid"),t.setAttribute("data-invalid",""),t.toggleAttribute("data-user-invalid",t.hasInteracted&&t.valueHasChanged))}export{C as a};
//# sourceMappingURL=/form-associated-helpers/bridgetown/static/chunks/chunk-6GEOBF4T.js.map
