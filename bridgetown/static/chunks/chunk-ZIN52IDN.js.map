{
  "version": 3,
  "sources": ["../../../../../exports/validators/value-missing-validator.js"],
  "sourcesContent": ["/**\n * @typedef {{validationMessage: string }} Validateable\n */\n\n/**\n * @typedef {object} ValidationOptions\n * @property {(element: HTMLElement) => boolean} validateElement - Adds the ability to determine what is considered a \"value missing\". A use case would be checkboxes. `ValueMissingValidator({ validateElement: (element) => Boolean(element.checked) })`\n */\n\n/**\n * @param {Partial<ValidationOptions>} [options]\n */\nexport const ValueMissingValidator = (options = {}) => {\n  if (!options.validateElement) {\n    options.validateElement = (element) => Boolean(/** @type {HTMLInputElement} */(element).value)\n  }\n\n  /**\n   * @type {ValidationOptions[\"validateElement\"]}\n   */\n  const validateElement = options.validateElement\n\n  /**\n   * @type {import(\"../types.js\").Validator<HTMLElement & { required?: boolean }>}\n   */\n  const obj = {\n    observedAttributes: [\"required\"],\n    message: Object.assign(document.createElement(\"input\"), {\n      required: true,\n    }).validationMessage,\n    checkValidity (element) {\n      /**\n      * @type {ReturnType<import(\"../types.js\").Validator[\"checkValidity\"]>}\n      */\n      const validity = {\n        message: \"\",\n        isValid: true,\n        invalidKeys: []\n      }\n\n      const isRequired = element.required ?? element.hasAttribute(\"required\")\n\n      // Always true if the element isn't required.\n      if (!isRequired) {\n        return validity\n      }\n\n      if (!validateElement(element)) {\n        validity.message = (typeof obj.message === \"function\" ? obj.message(element) : obj.message) || \"\"\n        validity.isValid = false\n        validity.invalidKeys.push(\"valueMissing\")\n      }\n\n      return validity\n    }\n  }\n\n  return obj\n}\n\n"],
  "mappings": "AAYO,IAAMA,EAAwB,CAACC,EAAU,CAAC,IAAM,CAChDA,EAAQ,kBACXA,EAAQ,gBAAmBC,GAAY,EAAwCA,EAAS,OAM1F,IAAMC,EAAkBF,EAAQ,gBAK1BG,EAAM,CACV,mBAAoB,CAAC,UAAU,EAC/B,QAAS,OAAO,OAAO,SAAS,cAAc,OAAO,EAAG,CACtD,SAAU,EACZ,CAAC,EAAE,kBACH,cAAeF,EAAS,CAItB,IAAMG,EAAW,CACf,QAAS,GACT,QAAS,GACT,YAAa,CAAC,CAChB,EAKA,OAHmBH,EAAQ,UAAYA,EAAQ,aAAa,UAAU,KAOjEC,EAAgBD,CAAO,IAC1BG,EAAS,SAAW,OAAOD,EAAI,SAAY,WAAaA,EAAI,QAAQF,CAAO,EAAIE,EAAI,UAAY,GAC/FC,EAAS,QAAU,GACnBA,EAAS,YAAY,KAAK,cAAc,IAGnCA,CACT,CACF,EAEA,OAAOD,CACT",
  "names": ["ValueMissingValidator", "options", "element", "validateElement", "obj", "validity"]
}
