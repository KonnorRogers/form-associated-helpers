import{a as n}from"/form-associated-helpers/bridgetown/static/chunks/chunk-ZL6FUDOL.js";import{a as o}from"/form-associated-helpers/bridgetown/static/chunks/chunk-JWI5Q4SE.js";import{a as u}from"/form-associated-helpers/bridgetown/static/chunks/chunk-4QWIFJON.js";import{d as l}from"/form-associated-helpers/bridgetown/static/chunks/chunk-ENMDFKSV.js";function y(e){return class extends o(u(e)){constructor(...t){super(...t);l(this,"handleInvalid",t=>{t.target===this&&(this.disabled===!0||this.hasAttribute("disabled")||(this.value!==this.defaultValue&&(this.valueHasChanged=!0),this.hasInteracted=!0,h(this)))});l(this,"handleInteraction",t=>{this.disabled===!0||this.hasAttribute("disabled")||(!this.matches(":focus-within")&&this.valueHasChanged&&(this.hasInteracted=!0),this.runValidators())});this.role=null,this.value=null,this.previousValue=this.value,this.defaultValue="",this.name="",this.type=this.localName||"",this.disabled=!1,this.required=!1,this.hasInteracted=this.hasInteracted??!1,this.valueHasChanged=this.valueHasChanged??!1,this.validators=[],this.addEventListener("focusout",this.handleInteraction),this.addEventListener("blur",this.handleInteraction),this.addEventListener("invalid",this.handleInvalid)}static get observedAttributes(){let t=new Set(super.observedAttributes||[]);for(let i of this.validators)if(i.observedAttributes)for(let a of i.observedAttributes)t.add(a);return[...t]}static get validators(){return[n]}get allValidators(){let t=this.constructor.validators||[],i=this.validators||[];return[...t,...i]}get willShowValidationMessage(){return this.disabled!==!0&&this.hasInteracted===!0}get labels(){return this.internals.labels}get validity(){return this.internals.validity}get validationMessage(){return this.internals.validationMessage}get willValidate(){return this.internals.willValidate}setCustomValidity(t){if(this.setValidity({}),t){this.setValidity({customError:!0},t);return}}attributeChangedCallback(t,i,a){typeof super.attributeChangedCallback=="function"&&super.attributeChangedCallback(t,i,a),a!==i&&(t==="role"&&(this.internals.role=a||null),t==="value"&&(this.defaultValue=this.getAttribute("value")||"",!this.hasInteracted&&!this.valueHasChanged&&(this.value=this.defaultValue,this.setFormValue(this.value,this.value))),this.runValidators())}formResetCallback(){"formControl"in this&&this.formControl&&(this.formControl.value=this.defaultValue),this.setValidity({}),this.value=this.defaultValue,this.hasInteracted=!1,this.valueHasChanged=!1,this.runValidators(),this.setFormValue(this.defaultValue,this.defaultValue)}formDisabledCallback(t){this.disabled=t,this.setValidity({}),this.runValidators()}formStateRestoreCallback(t,i){this.value=t,this.setValidity({}),this.formControl&&(this.formControl.value=t)}setValidity(...t){let i=t[0],a=t[1],r=t[2];r||(r=this.validationTarget),this.internals.setValidity(i,a,r),h(this)}reportValidity(){return this.runValidators(),this.internals.reportValidity()}checkValidity(){return this.runValidators(),this.internals.checkValidity()}get validationTarget(){return this.formControl||void 0}setFormValue(...t){this.value!==this.defaultValue&&(this.valueHasChanged=!0),this.internals.setFormValue(...t)}get form(){return this.internals.form}runValidators(){let t=this;if(t.disabled||t.getAttribute("disabled")){t.setValidity({});return}let i=t.allValidators;if(!i){t.setValidity({});return}let a={customError:t.validity.customError},r=t.formControl||void 0,s="";for(let f of i){let{isValid:v,message:c,invalidKeys:d}=f.checkValidity(t);v||(s||(s=c),d?.length>=0&&d.forEach(V=>a[V]=!0))}s||(s=t.validationMessage),t.setValidity(a,s,r)}}}function h(e){if(e.disabled||e.hasAttribute("disabled")){e.deleteCustomState("invalid"),e.deleteCustomState("user-invalid"),e.deleteCustomState("valid"),e.deleteCustomState("user-valid");return}e.validity.valid?(e.deleteCustomState("invalid"),e.deleteCustomState("user-invalid"),e.addCustomState("valid"),e.toggleCustomState("user-valid",e.hasInteracted&&e.valueHasChanged)):(e.deleteCustomState("valid"),e.deleteCustomState("user-valid"),e.addCustomState("invalid"),e.toggleCustomState("user-invalid",e.hasInteracted&&e.valueHasChanged))}export{y as a};
//# sourceMappingURL=/form-associated-helpers/bridgetown/static/chunks/chunk-MAEIMAT5.js.map
