import{a as u}from"/form-associated-helpers/bridgetown/static/chunks/chunk-ZL6FUDOL.js";import{a as h}from"/form-associated-helpers/bridgetown/static/chunks/chunk-JWI5Q4SE.js";import{a as f}from"/form-associated-helpers/bridgetown/static/chunks/chunk-4QWIFJON.js";import{d}from"/form-associated-helpers/bridgetown/static/chunks/chunk-ENMDFKSV.js";function s(t){if(t.disabled||t.getAttribute("disabled")){t.setValidity({});return}let l=t.allValidators;if(!l){t.setValidity({});return}let i={customError:t.validity.customError},e=t.formControl||void 0,a="";for(let r of l){let{isValid:o,message:c,invalidKeys:n}=r.checkValidity(t);o||(a||(a=c),n?.length>=0&&n.forEach(g=>i[g]=!0))}a||(a=t.validationMessage),t.setValidity(i,a,e)}function S(t){return class extends h(f(t)){constructor(...i){super(...i);d(this,"handleInvalid",i=>{i.target===this&&(this.disabled===!0||this.hasAttribute("disabled")||(this.value!==this.defaultValue&&(this.valueHasChanged=!0),this.hasInteracted=!0,v(this)))});d(this,"handleInteraction",i=>{this.disabled===!0||this.hasAttribute("disabled")||(!this.matches(":focus-within")&&this.valueHasChanged&&(this.hasInteracted=!0),s(this))});this.role=null,this.value=null,this.previousValue=this.value,this.defaultValue="",this.name="",this.type=this.localName||"",this.disabled=!1,this.required=!1,this.hasInteracted=this.hasInteracted??!1,this.valueHasChanged=this.valueHasChanged??!1,this.validators=[],this.addEventListener("focusout",this.handleInteraction),this.addEventListener("blur",this.handleInteraction),this.addEventListener("invalid",this.handleInvalid)}static get observedAttributes(){let i=new Set(super.observedAttributes||[]);for(let e of this.validators)if(e.observedAttributes)for(let a of e.observedAttributes)i.add(a);return[...i]}static get validators(){return[u]}get allValidators(){let i=this.constructor.validators||[],e=this.validators||[];return[...i,...e]}get willShowValidationMessage(){return this.disabled!==!0&&this.hasInteracted===!0}get labels(){return this.internals.labels}get validity(){return this.internals.validity}get validationMessage(){return this.internals.validationMessage}get willValidate(){return this.internals.willValidate}setCustomValidity(i){if(this.setValidity({}),i){this.setValidity({customError:!0},i);return}}attributeChangedCallback(i,e,a){typeof super.attributeChangedCallback=="function"&&super.attributeChangedCallback(i,e,a),a!==e&&(i==="role"&&(this.internals.role=a||null),i==="value"&&(this.defaultValue=this.getAttribute("value")||"",!this.hasInteracted&&!this.valueHasChanged&&(this.value=this.defaultValue,this.setFormValue(this.value,this.value))),s(this))}formResetCallback(){"formControl"in this&&this.formControl&&(this.formControl.value=this.defaultValue),this.setValidity({}),this.value=this.defaultValue,this.hasInteracted=!1,this.valueHasChanged=!1,s(this),this.setFormValue(this.defaultValue,this.defaultValue)}formDisabledCallback(i){this.disabled=i,this.setValidity({}),s(this)}formStateRestoreCallback(i,e){this.value=i,this.setValidity({}),this.formControl&&(this.formControl.value=i)}setValidity(...i){let e=i[0],a=i[1],r=i[2];r||(r=this.validationTarget),this.internals.setValidity(e,a,r),v(this)}reportValidity(){return s(this),this.internals.reportValidity()}checkValidity(){return s(this),this.internals.checkValidity()}get validationTarget(){return this.formControl||void 0}setFormValue(...i){this.value!==this.defaultValue&&(this.valueHasChanged=!0),this.internals.setFormValue(...i),s(this)}get form(){return this.internals.form}set form(i){this.setAttribute("form",i)}}}function v(t){if(t.disabled||t.hasAttribute("disabled")){t.deleteCustomState("invalid"),t.deleteCustomState("user-invalid"),t.deleteCustomState("valid"),t.deleteCustomState("user-valid");return}t.validity.valid?(t.deleteCustomState("invalid"),t.deleteCustomState("user-invalid"),t.addCustomState("valid"),t.toggleCustomState("user-valid",t.hasInteracted&&t.valueHasChanged)):(t.deleteCustomState("valid"),t.deleteCustomState("user-valid"),t.addCustomState("invalid"),t.toggleCustomState("user-invalid",t.hasInteracted&&t.valueHasChanged))}export{S as a};
//# sourceMappingURL=/form-associated-helpers/bridgetown/static/chunks/chunk-JEPQM6FS.js.map
