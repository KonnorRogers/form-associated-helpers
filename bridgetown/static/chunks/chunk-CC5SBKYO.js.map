{
  "version": 3,
  "sources": ["../../../../../exports/validators/too-long-validator.js"],
  "sourcesContent": ["/**\n * @typedef {import(\"../types.js\").FormValue} FormValue\n */\n\n/**\n * @template {HTMLElement & { maxLength?: number, value: FormValue }} [T=(HTMLElement & { maxLength?: number, value: FormValue })]\n */\nexport const TooLongValidator = () => {\n  const obj = {\n    observedAttributes: [\"maxlength\"],\n    /**\n     * @param {T} _hostElement\n     * @param {number} maxLength\n     * @param {number} stringLength\n     */\n    message (_hostElement, maxLength, stringLength) {\n      // @TODO: This is an edge case with maxlength. minlength has the same issue.\n      // const maxLength = Number(element.maxLength || element.getAttribute(\"maxlength\"))\n      // const value = element.value\n      // const badInput = Object.assign(document.createElement(\"input\"), {\n      //   value,\n      //   maxLength\n      // })\n\n      // return badInput.validationMessage\n      return `Please shorten this text to ${maxLength} characters or less. (You are currently using ${stringLength} characters).`\n    },\n    /**\n     * @param {T} element\n     */\n    checkValidity (element) {\n      /**\n      * @type {ReturnType<import(\"../types.js\").Validator[\"checkValidity\"]>}\n      */\n      const validity = {\n        message: \"\",\n        isValid: true,\n        invalidKeys: []\n      }\n\n      /** if its not a string, we really can't compare. */\n      let value = element.value ?? \"\"\n      if (typeof value !== \"string\") { return validity }\n\n      const maxLength = Number(element.maxLength ?? element.getAttribute(\"maxlength\"))\n\n      if (isNaN(maxLength) || maxLength == null || maxLength <= 0) { return validity }\n\n      if (value.length > maxLength) {\n        validity.message = (typeof obj.message === \"function\" ? obj.message(element, maxLength, value.length) : obj.message) || \"\"\n        validity.isValid = false\n        validity.invalidKeys.push(\"tooLong\")\n      }\n\n      return validity;\n    }\n  }\n\n  return obj\n}\n\n"],
  "mappings": "AAOO,IAAMA,EAAmB,IAAM,CACpC,IAAMC,EAAM,CACV,mBAAoB,CAAC,WAAW,EAMhC,QAASC,EAAcC,EAAWC,EAAc,CAU9C,MAAO,+BAA+BD,CAAS,iDAAiDC,CAAY,eAC9G,EAIA,cAAeC,EAAS,CAItB,IAAMC,EAAW,CACf,QAAS,GACT,QAAS,GACT,YAAa,CAAC,CAChB,EAGIC,EAAQF,EAAQ,OAAS,GAC7B,GAAI,OAAOE,GAAU,SAAY,OAAOD,EAExC,IAAMH,EAAY,OAAOE,EAAQ,WAAaA,EAAQ,aAAa,WAAW,CAAC,EAE/E,OAAI,MAAMF,CAAS,GAAKA,GAAa,MAAQA,GAAa,GAEtDI,EAAM,OAASJ,IACjBG,EAAS,SAAW,OAAOL,EAAI,SAAY,WAAaA,EAAI,QAAQI,EAASF,EAAWI,EAAM,MAAM,EAAIN,EAAI,UAAY,GACxHK,EAAS,QAAU,GACnBA,EAAS,YAAY,KAAK,SAAS,GAG9BA,CACT,CACF,EAEA,OAAOL,CACT",
  "names": ["TooLongValidator", "obj", "_hostElement", "maxLength", "stringLength", "element", "validity", "value"]
}
