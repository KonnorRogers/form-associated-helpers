import{a as d}from"/form-associated-helpers/bridgetown/static/chunks/chunk-QZ337CNL.js";import{a as h}from"/form-associated-helpers/bridgetown/static/chunks/chunk-6KWDOTFC.js";import{a as o}from"/form-associated-helpers/bridgetown/static/chunks/chunk-3KIXULAD.js";import{d as r}from"/form-associated-helpers/bridgetown/static/chunks/chunk-ENMDFKSV.js";function b(u){return class extends h(o(u)){constructor(...t){super(...t);r(this,"handleInvalid",t=>{t.target===this&&(this.disabled===!0||this.hasAttribute("disabled")||(this.value!==this.defaultValue&&(this.valueHasChanged=!0),this.hasInteracted=!0,this.updateInteractionState()))});r(this,"handleInteraction",t=>{this.disabled===!0||this.hasAttribute("disabled")||(!this.matches(":focus-within")&&this.valueHasChanged&&(this.hasInteracted=!0),this.updateValidity())});this.role=null,this.value=null,this.previousValue=this.value,this.defaultValue="",this.name="",this.type=this.localName||"",this.disabled=!1,this.required=!1,this.hasInteracted=this.hasInteracted??!1,this.valueHasChanged=this.valueHasChanged??!1,this.validators=[],this.addEventListener("focusout",this.handleInteraction),this.addEventListener("blur",this.handleInteraction),this.addEventListener("invalid",this.handleInvalid),this.__hasCustomError=!1,this.__customErrorMessage=""}static get observedAttributes(){let t=new Set(super.observedAttributes||[]);for(let i of this.validators)if(i.observedAttributes)for(let e of i.observedAttributes)t.add(e);return[...t]}static get validators(){return[d()]}get allValidators(){let t=this.constructor.validators||[],i=this.validators||[];return[...t,...i]}get willShowValidationMessage(){return this.disabled!==!0&&this.hasInteracted===!0}get labels(){return this.internals.labels}get validity(){return this.internals.validity}get validationMessage(){return this.internals.validationMessage}get willValidate(){return this.internals.willValidate}setCustomValidity(t){if(!t){this.__hasCustomError=!1,this.__customErrorMessage="",this.setValidity({});return}this.__hasCustomError=!0,this.__customErrorMessage=t,this.internals.setValidity({customError:!0},t)}attributeChangedCallback(t,i,e){typeof super.attributeChangedCallback=="function"&&super.attributeChangedCallback(t,i,e),e!==i&&(t==="role"&&(this.internals.role=e||null),t==="value"&&(this.defaultValue=this.getAttribute("value")||"",!this.hasInteracted&&!this.valueHasChanged&&(this.value=this.defaultValue,this.setFormValue(this.value,this.value))),this.updateValidity())}formResetCallback(){"formControl"in this&&this.formControl&&(this.formControl.value=this.defaultValue),this.resetValidity(),this.value=this.defaultValue,this.hasInteracted=!1,this.valueHasChanged=!1,this.updateValidity(),this.setFormValue(this.defaultValue,this.defaultValue)}formDisabledCallback(t){this.disabled=t,this.resetValidity(),this.updateValidity()}formStateRestoreCallback(t,i){this.value=t,this.formControl&&(this.formControl.value=t),this.resetValidity(),this.updateValidity()}setValidity(...t){let i=t[0],e=t[1],a=t[2];a||(a=this.validationTarget),this.internals.setValidity(i,e,a),this.updateInteractionState()}reportValidity(){return this.updateValidity(),this.internals.reportValidity()}checkValidity(){return this.updateValidity(),this.internals.checkValidity()}get validationTarget(){return this.formControl||void 0}setFormValue(...t){this.value!==this.defaultValue&&(this.valueHasChanged=!0),this.internals.setFormValue(...t),this.updateValidity()}get form(){return this.internals.form}resetValidity(){this.setCustomValidity(""),this.setValidity({})}updateValidity(){if(this.disabled||this.getAttribute("disabled")){this.resetValidity();return}let t=this.allValidators;if(!t){this.setValidity({});return}let e={customError:!!this.__hasCustomError},a=this.formControl||void 0,s="";for(let n of t){let{isValid:f,message:c,invalidKeys:l}=n.checkValidity(this);f||(s||(s=c),l?.length>=0&&l.forEach(v=>e[v]=!0))}s||(s=this.validationMessage||this.__customErrorMessage),this.setValidity(e,s,a)}updateInteractionState(){if(this.disabled||this.hasAttribute("disabled")){this.deleteCustomState("invalid"),this.deleteCustomState("user-invalid"),this.deleteCustomState("valid"),this.deleteCustomState("user-valid");return}this.validity.valid?(this.deleteCustomState("invalid"),this.deleteCustomState("user-invalid"),this.addCustomState("valid"),this.toggleCustomState("user-valid",this.hasInteracted&&this.valueHasChanged)):(this.deleteCustomState("valid"),this.deleteCustomState("user-valid"),this.addCustomState("invalid"),this.toggleCustomState("user-invalid",this.hasInteracted&&this.valueHasChanged))}}}export{b as a};
//# sourceMappingURL=/form-associated-helpers/bridgetown/static/chunks/chunk-RTLDES7Q.js.map
